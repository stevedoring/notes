[TOC]



## Linux常用命令

### 1. deb格式包的安装（dpkg）

- sudo dpkg -i xxx.deb

  > -i：安装软件包
  > -r：删除软件包
  > -P：删除软件包的同时删除其配置文件
  > -L：显示于软件包关联的文件
  > -l：显示已安装软件包列表
  > --unpack：解开软件包
  > -c：显示软件包内文件列表
  > --confiugre：配置软件包

### 2. 修改用户密码（passwd）

- sudo passwd user_name（输入需要修改的用户名，然后会提示输入密码）

### 3. 建立软连接（ln）

- ln  -s  源文件或目录  目的文件或目录

  > 需要修改源文件或目录时：ln –snf  新的源文件或目录  目的文件或目录 

### 4. 查找文件（find，locate）

- find path -name xxx 在指定路径查找文件

  > find命令后接需要查找的文件路径
  >
  > -name是以指定文件名查找文件
  >
  > -regex是以正则表达式查找文件或目录
  >
  > -path是匹配文件路径

- locate xxx 查找指定的文件或目录

  > linux系统会自动创建一个包含本地所有文件信息的数据库`/var/lib/mlocate/mlocate.db`，每天会更新一次这个数据库，`locate`实际上是在搜索这个数据库。新增加文件后，并不能马上查找到，需要通过`updatedb`来更新数据库。
  >
  > `locate -c xxx`：只显示找到的数量

### 5. 发包与抓包（tcpreplay，tcpdump）

- tcpreplay -i eth xxx 通过-i指定发包网口，发送指定文件

  > 在命令中可以加入以下选项
  >
  > -t 以全速发送
  >
  > -M xx 限速xx发送
  >
  > -l xx 循环xx次发送，当xx为0时为无限循环

- tcpdump -i eth -w xxx 通过-i指定抓包，以xxx为文件名保存

  > -vv 可以显示抓包个数

### 6. 传输文件（scp）

- scp src_file user@x.x.x.x:/path 将指定源文件发送到对应ip的指定路径下

  > scp -C ：加上-C后会压缩传输文件，在接收端会自动解压，可以缩短文件传输时间
  >
  > scp -P port ：加上-P可以指定端口号进行传输

### 7. git的安装与配置

- sudo apt install git 安装git

-   git config --global user.email "you@example.com"
    git config --global user.name "Your Name"

  > 设置账号的缺省身份标识，此后该电脑上的所有仓库都会使用该身份标识。如果仅在当前仓库设置身份标识，则省略 --global 参数

### 8. rpm格式包的安装

- rpm -ivh xxx.rpm 安装指定rpm包，并在安装过程中显示安装信息

  > -i ：安装
  >
  > -h：安装时列出标记
  >
  > -v：显示指令执行过程；-vv 详细显示指令执行过程
  >
  > -U：升级指定的包
  >
  > rpm -e xxx  卸载指定包，此时不需要加后缀.rpm

### 9. 源码包的编译和安装（./configure、make、make install）

- tar -zxvf xxx.tar.gz  首先解压源码包

  > 解压xxx.tar.bz2格式的文件使用`tar -jxvf xxx.tar.bz2`

- ./configure 切换到解压后的文件夹里进行配置

  > ./configure --prefix=安装目录  可以指定安装目录

- make  编译源码

  > 编译时有可能需要指定C或者C++的编译器
  >
  > make CC=指定C语言编译器
  >
  > make CXX=指定C++编译器

- make install 安装完成

### 10. 使用yum时报错处理

- 报错提示：Another app is currently holding the yum lock...

  > 原因及解决方法：可能是系统自动升级正在运行，yum在锁定状态中 。可以强制关闭yum进程：`rm -f /var/run/yum.pid `

- 报错提示：Errno 14 Couldn't resolve host...

  > 原因及解决方法：网络原因，DNS服务器错误 。`vim /etc/resolv.conf `,在里面添加一行`nameserver 8.8.8.8 `即可解决

### 11. 查看系统发行版本

- cat /etc/redhat-release 查看centos及redhat系统发行版本
- cat /etc/lsb-release 查看Ubuntu系统发行版本

### 12. Oracle数据库启动

- 第一步：`lsnrctl start` 启动监听
- 第二步：`sqlplus /nolog` 进入sql
- 第三步：`conn /as sysdba` 使用sysdab角色登录sqlplus
- 第四步：`startup` 启动数据库

## Python

### 1. pip的安装

- windows下安装好Python后，会自带pip，要勾选add to path
- linux下如果没有pip，可以先下载`get-pip.py`，然后安装即可
  - `wget https://bootstrap.pypa.io/get-pip.py --no-check-certificate`
  - `python get-pip.py`

### 2. 使用三元操作符来进行条件赋值

- x = [表达式为真的返回值] if [表达式] else [表达式为假的返回值]   通过表达式的真假来选择返回值

  > 举个栗子：`x = 1 if True else 0`,此时因为表达式判断为真，则x赋值为1，若表达式为假，则x赋值为0

### 3. 显示导入模块的路径

- ```python
  import module
  print(module)
  ```

  > 直接打印出模块名，就可以显示当前模块文件的位置

### 4. 检测当前系统的Python版本（sys.version，sys.version_info） 

- ```python
  import sys
  print(sys.version)  #打印Python版本信息
  # 判断Python版本号是否大于或等于3.6.1
  if sys.version_info >= (3,6,1):
      print('yes')
   else:
      print('no')
  ```

  > 可以用于判断当前系统是否满足脚本运行环境要求


### 5. 将序列元素拼接成字符串（join）

  - 'sep'.join(seq)  sep为分隔符，可以为空。该方法会将序列seq的元素依次取出，以sep分隔后拼接成一个新的字符串。

  - ```python
    str_list = [1,2,3,4,5,6]
    list_to_str1 = ''.join(str_list) #此时list_to_str1为'123456'
    list_to_str2 = '*'.join(str_list) #此时list_to_str2为'1*2*3*4*5*6'
    ```

    
